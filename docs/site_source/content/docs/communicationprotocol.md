---
title: 通信协议
type: docs
---

## 协议时序图

![通信协议](../../imgs/protocol_seq.png)

## 协议设计

### 总体结构

部分      |类型      |长度
------------|-----------|-----------
起始       |固定 00 01        |2
包长       |int        |4
协议号       |int        |4
协议版本     |short        |2
包编号     |long        |8
包体     |byte[]        |{ ... }

### 1000
	//null body

### 1001

字段       |字段类型       |字段说明
------------|-----------|-----------
serverVersion       |int        |服务器配置版本号
servers       |string        |服务器配置

### 1002

字段       |字段类型       |字段说明
------------|-----------|-----------
appCode       |string        |应用信息
jobs       |string        |任务信息：jobs,jobs2
req       |byte        |请求标记:00

### 1003

字段       |字段类型       |字段说明
------------|-----------|-----------
resp       |byte        |响应标记:01

### 1004

字段       |字段类型       |字段说明
------------|-----------|-----------
appCode       |string        |应用信息
req       |byte        |请求标记:00

### 1005

字段       |字段类型       |字段说明
------------|-----------|-----------
resp       |byte        |响应标记:01
serverVersion       |int        |服务端配置版本号

### 1006

字段       |字段类型       |字段说明
------------|-----------|-----------
jobBeanId       |string        |任务beanId
paramData       |string        |参数信息

### 1007

字段       |字段类型       |字段说明
------------|-----------|-----------
jobBeanId       |string        |任务beanId
result       |byte        |提交结果0 提交成功 1 提交失败

### 1008

字段       |字段类型       |字段说明
------------|-----------|-----------
jobBeanId       |string        |任务beanId
result       |byte        |执行结果0 执行成功 1 执行失败 2 任务取消
logStr       |string        |执行日志


### 1009

字段       |字段类型       |字段说明
------------|-----------|-----------
jobBeanId       |string        |任务beanId
result       |byte        |处理结果0 处理成功 1 处理失败

### 1010

字段       |字段类型       |字段说明
------------|-----------|-----------
jobBeanId       |string        |任务beanId


### 1011

字段       |字段类型       |字段说明
------------|-----------|-----------
jobBeanId       |string        |任务beanId
result       |byte        |取消结果0 取消成功 1 取消失败

### 1012

    //todo

### 1013

    //todo