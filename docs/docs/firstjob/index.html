<!DOCTYPE html>

<html>
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Firstjob | 首页</title>

<link href="https://fonts.googleapis.com/css?family=Oxygen+Mono|Oxygen:300,400,700" rel="stylesheet">
<link rel="stylesheet" href="/flyer-job/normalize.min.css">


<link rel="stylesheet" href="/flyer-job/book.min.c8c8e50ed288f167b51b63d6da0960cfaa3aa1b351c38bea4fd536d969bc1aec.css">
  
</head>

<body>
  <input type="checkbox" style="display: none" id="menu-control" />
  <main>

    <aside class="menu fixed">
      <nav role="navigation">
        <h2 class="brand">
  <a href="https://vancefantasy.github.io/flyer-job/">首页</a>
</h2>
        
        
        
          <ul>
<li><a href="/flyer-job/docs/introducing">向你介绍</a></li>
<li><a href="/flyer-job/docs/deployguide">部署指南</a></li>
<li><a href="/flyer-job/docs/firstjob">接入第一个任务</a></li>

<li><p><a href="/flyer-job/docs/design">设计</a></p>

<ul>
<li><a href="/flyer-job/docs/architecture">架构</a></li>
<li><a href="/flyer-job/docs/communicationprotocol">通信协议</a></li>
</ul></li>

<li><p><a href="/flyer-job/docs/faq">FAQ</a></p></li>
</ul>

        
      
        
      </nav>
    </aside>

    <div class="content">
      <header>
        <label for="menu-control">
  <img src="https://vancefantasy.github.io/flyer-job//svg/menu.svg" />
</label>
<strong>Firstjob</strong>
      </header>
      <article class="markdown">

<h1 id="在此之前">在此之前</h1>

<blockquote>
<p>flyer job暂时只支持spring环境(springframwork,springboot)接入</p>
</blockquote>

<h1 id="客户端">客户端</h1>

<h2 id="引入依赖">引入依赖</h2>

<blockquote>
<p>flyer-job-client暂时还没上传至maven官方仓库</p>
</blockquote>

<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;io.github.vancefantasy&lt;/groupId&gt;
    &lt;artifactId&gt;flyer-job-client&lt;/artifactId&gt;
    &lt;version&gt;0.0.1&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>

<h2 id="配置">配置</h2>

<pre><code>//properties
//note:加载properties文件时，请将ignoreUnresolvablePlaceholders设置为true
flyer.appCode=flyerjob-springmvc-showcase
flyer.servers=127.0.0.1:20180
flyer.vhost=dev

//for springframwork
&lt;bean class=&quot;com.elong.flyer.client.FlyerClientContext&quot;/&gt;

//for springboot
@Bean
public FlyerClientContext registerBean() {
    return new FlyerClientContext();
}
</code></pre>

<h2 id="helloworldjob-java">HelloWorldJob.java</h2>

<pre><code>package com.flyer.job.example.jobs;
import com.flyer.job.client.FlyerJob;
import com.flyer.job.client.FlyerResult;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.stereotype.Component;

@Component
public class HelloWorldJob extends FlyerJob {

    private final static Logger log = LoggerFactory.getLogger(HelloWorldJob.class);

    @Override
    public FlyerResult execute(String param) throws Exception {
        log.info(&quot;HelloWorldJob run ok&quot;);
        return new FlyerResult(FlyerResult.Result.SUCCESS, &quot;run ok&quot;);
    }
}
</code></pre>

<h1 id="服务端-控制台">服务端&amp;控制台</h1>

<h2 id="设置集群">设置集群</h2>

<p><img src="../../imgs/setcluster.png" alt="cluster" /></p>

<h2 id="添加应用">添加应用</h2>

<p><img src="../../imgs/addapp.png" alt="addapp" /></p>

<h2 id="添加任务">添加任务</h2>

<p><img src="../../imgs/addjob.png" alt="addjob" /></p>

<h2 id="任务管理">任务管理</h2>

<p><img src="../../imgs/joblist.png" alt="joblist" /></p>

<h2 id="运行状况">运行状况</h2>

<p><img src="../../imgs/running.png" alt="running" /></p>

<h2 id="客户端列表">客户端列表</h2>

<p><img src="../../imgs/clientlist.png" alt="clientlist" /></p>

<h2 id="运行一次">运行一次</h2>

<p><img src="../../imgs/runonce.png" alt="runonce" /></p>
</article>
    </div>

    
    
    <aside class="toc fixed">
      <nav id="TableOfContents">
<ul>
<li><a href="#在此之前">在此之前</a></li>
<li><a href="#客户端">客户端</a>
<ul>
<li><a href="#引入依赖">引入依赖</a></li>
<li><a href="#配置">配置</a></li>
<li><a href="#helloworldjob-java">HelloWorldJob.java</a></li>
</ul></li>
<li><a href="#服务端-控制台">服务端&amp;控制台</a>
<ul>
<li><a href="#设置集群">设置集群</a></li>
<li><a href="#添加应用">添加应用</a></li>
<li><a href="#添加任务">添加任务</a></li>
<li><a href="#任务管理">任务管理</a></li>
<li><a href="#运行状况">运行状况</a></li>
<li><a href="#客户端列表">客户端列表</a></li>
<li><a href="#运行一次">运行一次</a></li>
</ul></li>
</ul>
</nav>
    </aside>
    

  </main>
  
</body>
</html>